
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>
    
  title: 《征服C指针》阅读笔记 II - Max's Blog

  </title>
  <meta name="author" content="">
  <meta name="description" content="">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="asset/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="atom.xml" rel="alternate" title="Max's Blog" type="application/atom+xml">
  <script src="asset/js/modernizr-2.0.js"></script>
  <script src="asset/js/jquery.min.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/solarized_light.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>

  <style type="text/css">
  .cat-children-p{ padding: 6px 0px;}
  .hljs{background: none;}
  </style>
  <script type="text/javascript">
  var isAddSildbar = true;
  </script>
  <script src="asset/js/octopress.js" type="text/javascript"></script>
</head>
<script type="text/javascript">
//链接新开窗口
function addBlankTargetForLinks () {
  $('a[href^="http"]').each(function(){
      $(this).attr('target', '_blank');
  });
}
$(document).ready(function(event) {
  addBlankTargetForLinks();
});
</script>
<body   >
  <header role="banner"><hgroup>
  <h1><a href="index.html">Max's Blog</a></h1>
  
    <h2></h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="index.html">Home</a></li>
  <li><a href="archives.html">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content"> 
<div>
	<article class="hentry" role="article">
	<header>
			  	<h1 class="entry-title">---</h1>
				<p class="meta"><time datetime="2016-08-04T21:04:15+08:00" pubdate data-updated="true">2016/8/4</time></p>
			 </header>
		  	<div class="entry-content">
			  	<p>title: 《征服C指针》阅读笔记 II<br/>
date: 2015-12-31 11:39:59</p>

<h2 id="toc_0">tags: [C语言, 指针]</h2>

<h3 id="toc_1">第三章 揭秘C的语法</h3>

<h4 id="toc_2">3.1 解读C的声明</h4>

<p>这张首先介绍的是如何读C中的声明，让你用英文的语法去理解声明，可能是岛国人民的英语比较烂，声明这里我感觉没那么多坑，容易晕的地方无非就是指针数组和数组指针，简而言之就是** * <strong>和</strong>变量名<strong>如果有小括号返回的就是指针，否则就是数组。这个问题归根结底就是</strong> * <strong>的优先级高，就拿</strong>int <em>p[10]</em><em>来说，</em>* * <strong>的优先级很高，跟int结合后就决定了返回的是</strong>int *<strong>而读到最后发现</strong>[]<strong>，自然而然就变成了</strong>返回int * 类型的数组<strong>，而如果</strong>int *<strong>加上小括号变成</strong>int (<em>p)[]</em><em>，首先返回的会是</em><em>int</em><em>,看到</em><em>[]</em><em>就知道返回的是</em><em>int数组</em><em>,最后</em><em>(</em>p)<strong>声明</strong>p**是指针，最终返回的是数组指针，这里个人感觉不要揣测Dennis Ritchie的想法，记住就好，熟而生巧。</p>

<h4 id="toc_3">3.2 C的数据类型的模型</h4>

<p>前半段介绍了一下数组指针的小细节。如下代码：<br/>
<code>c<br/>
    int arr[10];<br/>
    int *p = &amp;arr;<br/>
    printf(&quot;size ------- \n arr - %d\n &amp;arr - %d\n p - %d\n&quot;,sizeof(arr), sizeof(&amp;arr), sizeof(p));<br/>
    printf(&quot;point ------- \n arr - %p\n &amp;arr - %p\n p - %p\n&quot;,arr, &amp;arr, p);<br/>
</code></p>

<p>输出结果为</p>

<pre><code class="language-c">size ------- 
 arr - 40
 &amp;arr - 8
 p - 8
point ------- 
 arr - 0x7fff5fbff830
 &amp;arr - 0x7fff5fbff830
 p - 0x7fff5fbff830
</code></pre>

<p>可以看到最大的差别就是p和[arr]的sizeof不同，影响的地方就是两种类型的指针作自增操作的时候数值不同，两者的运用场景各有不同。这里差别来自于<strong>p</strong>是**int *<strong>类型而arr是</strong>int [10]**类型的，编译器会根据不同的类型做自增操作。</p>

<p><strong>C中不存在多维数组，只不过是数组的数组</strong></p>

<p>3.2.6介绍了函数指针，总结起来：</p>

<ol>
<li>从函数类型不能派生出除了指针类型之外的其他任何类型。（原因在于函数类型的大小是不定的，但是函数指针的大小是确定的）</li>
<li>从数组类型是不能派生出函数类型的。</li>
</ol>

<p>3.2.10不完全类型，总结起来：<br/>
C有三种类型：</p>

<ol>
<li>对象类型（char、int、数组、指针、结构体）</li>
<li>函数类型</li>
<li>不完全类型，结构体标记的声明就是不完全类型(void 也为不完全类型)</li>
</ol>

<p>例子：typedef struct Woman_tag Woman;声明的时候并不知道Woman的大小。<br/>
<strong>结构体中不能存在不完全类型，但是可以存在不完全类型的指针</strong></p>

<h4 id="toc_4">3.3表达式</h4>

<p>略</p>

<h4 id="toc_5">3.4解读C的声明</h4>

<p>3.4.1介绍了<strong>const</strong>修饰符，总结：<br/>
跟以前的认识一样，<strong>const</strong>修饰它右面整体的类型</p>

<p>3.5介绍了C声明函数的参数不可以有数组，只能传递数组指针，并且重要的是<strong>int a[]</strong>和<strong>int *a</strong>等价，但是个人推荐前一种方式，因为前一种更加直观。然后作者倾向于后一种，不解。</p>

			</div>

		
	  
		<footer>
		 <p class="meta">

			
			<span class="categories">
			 
			</span>
		    </p>
		    <p class="meta">
		      
		 </p>
	    
		<div class="sharing">
			
		</div>

	    <p class="meta">
	    
	        <a class="basic-alignment left" href="14703158550743.html" 
	        title="Previous Post: title: 《征服C指针》阅读笔记">&laquo; title: 《征服C指针》阅读笔记</a>
	    
	    
	        <a class="basic-alignment right" href="14703158550685.html" 
	        title="Next Post: title: iOS二维码扫描识别">title: iOS二维码扫描识别 &raquo;</a>
	    
	    </p>
	  </footer>
	</article>
</div>
 <aside class="sidebar"> 

	<section>
	  <h1>Categories</h1>
	  <ul id="recent_posts">
	  
	        
	      </li>
	   
	  </ul>
	</section>
	<section>
	  <h1>Recent Posts</h1>
	  <ul id="recent_posts">
	  
	      
		      <li class="post">
		        <a href="14703158550743.html">title: 《征服C指针》阅读笔记</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="14703158550716.html">---</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="14703158550685.html">title: iOS二维码扫描识别</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="14703158550637.html">---</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="14703158550587.html">title: Auto Layout中的VFL使用教程（译）</a>
		      </li>
	     
	   
	  </ul>
	</section>
	
</aside> </div></div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 -  -
  <span class="credit">Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; Theme by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>



</body>
</html>